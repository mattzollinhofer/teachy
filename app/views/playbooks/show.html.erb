<div class='row'>
  <div class='col-xs-12 col-sm-6'>
    <h2 class='pull-left'><%= class_period_short_label @class_period %></h2>
  </div>
  <div class='hidden-xs col-sm-6'>
    <div class='pull-right'><%= taught_by_teachers @class_period %></div>
  </div>
</div>

<% assignments = @class_period.assignments %>
<% student_class = @student.student_classes.find_by(class_period: @class_period) %>
<table class='table table-striped table-striped-column gradebook'>
  <thead>
    <th class='assignment'>Assignment</th>
    <th>Due Date</th>
    <th>Notes</th>
    <th>Worksheet</th>
    <th>Stars</th>
    <th>IXL</th>
  </thead>
  <tbody>
    <% assignments.each do |assignment| %>
      <tr>
        <td class='name'><div><span><%=assignment.name%></span></div></td>
        <td class='due-date'><%= assignment.due_at %></td>
        <% class_assignment = ClassAssignment.find_or_create_by(assignment: assignment, student_class: student_class) %>
        <td class='notes-earned'>
          <% if assignment.notes_points_possible > 0 %>
            <%= class_assignment.notes_earned.presence || '<i class="fa fa-square-o" aria-hidden="true"></i>'.html_safe %>
            <span class='points-possible'> / <%=assignment.notes_points_possible%></span>
          <% end %>
        </td>
        <td class='points-earned'>
          <% if assignment.worksheet_points_possible > 0 %>
            <%= class_assignment.points_earned.presence || '<i class="fa fa-square-o" aria-hidden="true"></i>'.html_safe %>
            <span class='points-possible'> / <%=assignment.worksheet_points_possible%></span>
          <% end %>
        </td>
        <td class='stars-earned'><%= class_assignment.stars_earned.presence || '' %></td>
        <td class='ixl-earned'>
          <% if assignment.ixl_points_possible > 0 %>
            <%= class_assignment.ixl_earned.presence || '<i class="fa fa-square-o" aria-hidden="true"></i>'.html_safe %>
            <span class='points-possible'> / <%=assignment.ixl_points_possible%></span>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
